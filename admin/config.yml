backend:
  name: github
  base_url: https://api.staticweb-01.etalab.gouv.fr
  site_domain: lactu.beta.gouv.fr
  repo: betagouv/lactu.beta.gouv.fr
  # Personnalisation des messages de commit
  commit_messages:
    create: Nouveau {{collection}} “{{slug}}”
    update: Mise à jour {{collection}} “{{slug}}”
    delete: Suppression {{collection}} “{{slug}}”
    uploadMedia: Nouvelle image “{{path}}”
    deleteMedia: Suppression d'image “{{path}}”

media_folder: "images/uploads"

display_url: https://lactu.beta.gouv.fr

slug:
  encoding: "ascii"
  clean_accents: true

# Editorial workflow: validate changes through pull requests
publish_mode: editorial_workflow

collections:
   - name: "posts"
     label: "Posts"
     folder: "_posts"
     slug: "{{year}}-{{month}}-{{day}}-{{title}}"
     create: true
     fields:
       - {label: "Layout", name: "layout", widget: "hidden", default: "post"}
       - {label: "Titre", name: "title", widget: "string"}
       - {label: "Date", name: "date", widget: "date"}
       - {label: "Auteur (optionnel)", name: "author", widget: "string", required: false}
       - {label: "Catégories (incubateur)", name: "categories", widget: "select", options: ["general", "dinsic", "innolab-62", "lab-mi", "mtes", "pole-emploi", "sgmas"]}
       - {label: "Tags (startup)(optionnel)", name: "tags", widget: "string", required: false}
       - {label: "Image (optionnel)", name: "image", widget: image, required: false}
       - {label: "Chapô (utilisé pour la vignette)(optionnel)", name: "excerpt", widget: "text", required: false}
       - {label: "Contenu", name: "body", widget: "markdown"}
       - {label: "Incubateur", name: "incubateur", widget: "relation", collection: "category", searchFields: ["title"], valueField: "category", displayFields: ["title"]
